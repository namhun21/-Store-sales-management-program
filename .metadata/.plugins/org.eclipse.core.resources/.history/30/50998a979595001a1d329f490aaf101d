package controller;

import javafx.fxml.FXML;
import javafx.scene.control.TextField;
import javafx.scene.control.Alert;
import javafx.scene.control.Alert.AlertType;
import javafx.stage.Stage;
import model.Customer;

public class CustomerDataController {
	@FXML
	private TextField nameField;
	@FXML 
	private TextField idField;
	@FXML
	private TextField pwField;
	@FXML
	private TextField phoneField;
	private Stage dialogStage;
	private Customer customer;
	
	private int returnValue = 0;
	
	@FXML
	private void initialize() {
		
	}
	public void setDialogStage(Stage dialogStage) {
		this.dialogStage = dialogStage;
	}
	public void setWord(Customer customer) {
		this.customer = customer;
		nameField.setText(customer.getName());
		idField.setText(customer.getID());
		pwField.setText(customer.getPw());
		phoneField.setText(customer.getPhone());
	}
	public int getReturnValue() {
		return returnValue;
	}
	@FXML
	private void completeAction() {
		if(valid()) {
			customer.setName(nameField.getText());
			customer.setName(nameField.getText());
			customer.setName(nameField.getText());
			customer.setName(nameField.getText());
			returnValue = 1;
			dialogStage.close();
		}
	}
	@FXML
	private void cancelAction() {
		dialogStage.close();
	}
	private boolean valid() {
		String errorMessage = "";
		if(nameField.getText() == null || nameField.getText().equals(""))
			errorMessage += "이름을 입력하세요 \n";
		
		if(idField.getText() == null || idField.getText().equals(""))
			errorMessage += "id를 입력하세요 \n";
		
		if(pwField.getText() == null || pwField.getText().equals(""))
			errorMessage += "pw를 입력하세요 \n";
		
		if(phoneField.getText() == null || phoneField.getText().equals(""))
			errorMessage += "전화번호를 입력하세요 \n";
		
		if(errorMessage.equals(""))
			return true;
		else {
			Alert alert = new Alert(AlertType.ERROR);
			alert.initOwner(dialogStage);
			alert.setTitle("오류 메세지");
			alert.setHeaderText("값을 제대로 입력해 주세요");
			alert.setContentText(errorMessage);
			alert.showAndWait();
			return false;
		}
	
	}

}
